def test_e2e(mpc, tests_toggles, modulus):
    run_all = tests_toggles["all"]

    # MPC tests setup
    from .. import share_all_data
    share_all_data(mpc, True, modulus)
    print f"End-to-end MPC apps tests initiated for {'ring' if modulus.popcnt() == 1 else 'field'} at CP{mpc.pid}"

    # MHE tests setup
    mpc.he.default_setup()
    print f"End-to-end MHE apps tests initiated for {'ring' if modulus.popcnt() == 1 else 'field'} at CP{mpc.pid}"

    if tests_toggles["king"] or run_all:
        from test_king import test_king
        test_king(mpc, modulus)

    if tests_toggles["gwas"] or run_all:
        from test_gwas import test_gwas
        test_gwas(mpc, modulus)

    if tests_toggles["dti"] or run_all:
        from test_dti import test_dti
        test_dti(mpc, modulus)

    if tests_toggles["opal"] or run_all:
        from test_opal import test_opal
        test_opal(mpc, modulus)

    if tests_toggles["ganon"] or run_all:
        from test_ganon import test_ganon
        test_ganon(mpc, modulus)
